{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/yaakovj/fit3179/refs/heads/main/data/Percentage_days_over_90%25.csv"
  },
  "width": 600,
  "height": 500,
  "background": "transparent",
  "transform": [
    { "calculate": "floor((toNumber(datum.Year)-2) / 12)", "as": "decades" },
    { "calculate": "(toNumber(datum.Year) -2)% 12", "as": "subdecade" }
  ],
  "title": {
    "text": "Percentage of hot days in Australia",
    "subtitle": "Percentage of days each year hotter in the 90th percentile compared to a 1961-1990 baseline",
    "font": "Arial",
    "fontSize": 18,
    "subtitleFontSize": 14,
    "subtitleFont": "Arial"
  },
  "config": { "view": { "strokeWidth": 0, "step": 13 }, "axis": { "domain": false } },
  "layer": [
    {
      "mark": "rect",
      "encoding": {
        "x": {
          "field": "subdecade",
          "type": "ordinal",
          "axis": null
        },
        "y": { "field": "decades", "type": "ordinal", "title": "Month", "axis": null },
        "color": {
          "field": "Percentage",
          "type": "quantitative",
          "scale": { "scheme": "orangered", "type": "log" },
          "legend": { "title": "%", "titleFont": "Arial", "titleFontSize": 14, "labelFont": "Arial", "labelFontSize": 12 }
        }
      }
    },
    {
      "mark": {
        "type": "text",
        "align": "center",
        "baseline": "middle",
        "dy": 0,
        "fontSize": 12,
        "font": "Arial"
      },
      "encoding": {
        "x": { "field": "subdecade", "type": "ordinal" },
        "y": { "field": "decades", "type": "ordinal" },
        "text": { "field": "Year", "type": "ordinal" },
        "color": { "value": "black" }
      }
    }
  ]
}
